<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Details Tree</title>
	</head>
	<body>
    <div id="tree"></div>
    
    <button id="button">Find Document</div>
  
  <script type='text/javascript' src='../../../steal/steal.js'></script>
  <script type='text/javascript'>
    steal('jquery/dom/fixture', 'jquery/dom/route', 'docview/fixtures', 'docview/details/tree').then(function($) {
      // Client State
      var state = new $.Observe({
          category: "",
          id: "",
          page: "",
          search: {
              ids: [],
              filters: [6]
          },
          document: {
            pages: [],
            directory: "",
            metadata: {},
            groups: []
          }
      });
      
      
      $('#tree').docview_details_tree({clientState: state});
      $('#button').click(function() {
        state.attr('document', {
          pages: ["pic000000.jpg", "pic000001.jpg", "pic000002.jpg", "pic000003.jpg", "pic000004.jpg", "pic000005.jpg"],
          directory: "/docimages/",
          metadata: {
            doc_id: 123456789123456789
          },
          groups: [
            { type: 0, name: "\u5355\u636e\u9996\u9875", pages: ["pic000000.jpg"] },
            { type: 6, name: "\u51fa\u53e3\u62a5\u5173\u5355", pages: ["pic000001.jpg", "pic000002.jpg", "pic000003.jpg", "pic000004.jpg"] },
            { type: 2, name: "\u53d1\u7968", pages: ["pic000005.jpg"] }            
          ]
        });
      });
    });
  </script>
	</body>
</html>