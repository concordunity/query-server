<!DOCTYPE html>
<html lang="en">
	<head>
		<title>DmsTable</title>
	</head>
	<body>
  <div class="container-fluid">
  <div class="row-fluid">
    <div id="dms-table">
  </div>
  </div>
  
  
  <script type='text/javascript' src='../../../steal/steal.js'></script>
  <script type='text/javascript'>

function format_row_data(data) {
  var result = new Array();

  $.each(data, function(index, v) {
     result.push(v.toUpperCase());
  });
    return result;
  }
    steal('jquery/dom/route', 'docview/ui/dmstable').then(function($) {


    var table_options = {
      th_list: ['User', 'Address', 'Telephone', 'Age'],
      file_name: "user_info",
      row_formatter : format_row_data 
    };

    $('#dms-table').docview_ui_dmstable({table_options : table_options});
    var controller = $('#dms-table').controller();
    console.log(controller);

    controller.setData([
    ['weidong', '2111 main Street', '408-555-1212', '40'],
    ['weidong2', '2111 main Street', '408-555-1212', '40'],
    ['weidong3', '3111 main Street', '408-555-1212', '40']
    ]);
	
    $("#export_data").click(function(){
	var controller = $('#dms-table').controller();
	controller.saveToExcel();
    });

    });
  </script>
	</body>
</html>
